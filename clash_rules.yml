# =========================
# ç­–ç•¥ç»„é…ç½® (èåˆç‰ˆ)
# =========================
prepend-proxy-groups:
  # 1. ğŸ‡ºğŸ‡¸ AI ä¸“ç”¨ï¼šå¼ºåˆ¶åªé€‰ç¾å›½èŠ‚ç‚¹ï¼Œæ¯ 5 åˆ†é’Ÿè‡ªåŠ¨æµ‹é€Ÿé€‰æœ€å¿«çš„
  - name: ğŸ’¬ AI æœåŠ¡
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "(?i)(ç¾å›½|US|States|United)"

  # 2. ğŸŒ äºšæ´²ä¼˜é€‰ï¼šåªé€‰æ¸¯æ—¥æ–°ï¼Œç”¨äºæ—¥å¸¸æµè§ˆ
  - name: ğŸŒ äºšæ´²ä¼˜é€‰
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "(?i)(æ¸¯|HK|Hong|JP|Japan|æ—¥|SG|Singapore|ç‹®|TW|å°æ¹¾)"

  # 3. ğŸ“º æ²¹ç®¡ï¼šå…è®¸æ‰‹åŠ¨åˆ‡æ¢ï¼ˆç¾/äºšï¼‰ï¼Œæ–¹ä¾¿çœ‹ 4K æˆ–é”åŒºå†…å®¹
  - name: ğŸ“¹ æ²¹ç®¡è§†é¢‘
    type: select
    url: http://www.gstatic.com/generate_204
    filter: "(?i)(ç¾å›½|US|States|æ¸¯|HK|Hong|JP|Japan|æ—¥|SG|Singapore|TW|å°æ¹¾)"
    
  # 4. ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies: [REJECT, DIRECT]

  # 5. ğŸ‘‡ ä¸‹é¢æ˜¯ç»†åˆ†æ¼æ–—ï¼Œä¸ºäº†ç®€æ´ï¼Œå»ºè®®å¤§å¤šæ•°èµ°é»˜è®¤çš„äºšæ´²ç»„ï¼Œç‰¹æ®Šéœ€æ±‚æ‰‹åŠ¨é€‰
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies: [ğŸŒ äºšæ´²ä¼˜é€‰, DIRECT, ğŸ’¬ AI æœåŠ¡]
    
  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies: [DIRECT, ğŸŒ äºšæ´²ä¼˜é€‰, ğŸ’¬ AI æœåŠ¡]

  - name: ğŸ“² ç”µæŠ¥æ¶ˆæ¯
    type: select
    proxies: [ğŸŒ äºšæ´²ä¼˜é€‰, ğŸ’¬ AI æœåŠ¡]

  - name: ğŸ¬ æµåª’ä½“ (Netflix/Disney+)
    type: select
    # å…è®¸æ‰‹åŠ¨é€‰æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ–¹ä¾¿è§£é”ç‰¹å®šå›½å®¶å‰§é›†
    filter: "(?i)(æ¸¯|HK|JP|SG|US|TW)"

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies: [ğŸŒ äºšæ´²ä¼˜é€‰, DIRECT, ğŸ’¬ AI æœåŠ¡]

# =========================
# è§„åˆ™é›† (é«˜æ€§èƒ½ MRS æ ¼å¼)
# =========================
rule-providers:
  ads:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ads-all.mrs"
    path: ./ruleset/ads.mrs
    interval: 86400
  
  ai:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ai-chat-!cn.mrs"
    path: ./ruleset/ai.mrs
    interval: 86400

  youtube:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/youtube.mrs"
    path: ./ruleset/youtube.mrs
    interval: 86400

  google:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/google.mrs"
    path: ./ruleset/google.mrs
    interval: 86400

  telegram:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/telegram.mrs"
    path: ./ruleset/telegram.mrs
    interval: 86400

  microsoft:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft.mrs"
    path: ./ruleset/microsoft.mrs
    interval: 86400
    
  apple:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple.mrs"
    path: ./ruleset/apple.mrs
    interval: 86400

  netflix:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/netflix.mrs"
    path: ./ruleset/netflix.mrs
    interval: 86400

  cn:
    type: http
    format: mrs
    behavior: domain
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/cn.mrs"
    path: ./ruleset/cn.mrs
    interval: 86400

  cn_ip:
    type: http
    format: mrs
    behavior: ipcidr
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/cn.mrs"
    path: ./ruleset/cn_ip.mrs
    interval: 86400

# =========================
# è§„åˆ™åº”ç”¨
# =========================
prepend-rules:
  - RULE-SET,ads,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,ai,ğŸ’¬ AI æœåŠ¡
  - RULE-SET,youtube,ğŸ“¹ æ²¹ç®¡è§†é¢‘
  - RULE-SET,google,ğŸŒ äºšæ´²ä¼˜é€‰  # è°·æ­Œæœç´¢èµ°äºšæ´²ï¼ˆé™¤äº†AIï¼ŒAIå·²è¢«ä¸Šé¢çš„è§„åˆ™æˆªè·ï¼‰
  - RULE-SET,telegram,ğŸ“² ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,netflix,ğŸ¬ æµåª’ä½“
  - RULE-SET,microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,apple,ğŸ è‹¹æœæœåŠ¡
  
  # å›½å†…ç›´è¿
  - RULE-SET,cn,DIRECT
  - RULE-SET,cn_ip,DIRECT
  - GEOIP,CN,DIRECT
  
  # å…œåº•
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼